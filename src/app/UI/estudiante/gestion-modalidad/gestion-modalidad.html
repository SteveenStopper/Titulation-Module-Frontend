<section class="bg-white rounded-xl border border-gray-200 shadow-sm">
  <!-- Tabs header -->
  <div class="border-b border-gray-200 px-4 pt-4">
    <div class="flex items-center gap-2">
      <button type="button" (click)="activeTab='uic'"
              class="px-3 py-2 text-sm rounded-md"
              [ngClass]="activeTab==='uic' ? 'bg-blue-50 text-blue-700 border border-blue-200' : 'text-gray-600 hover:bg-gray-50'">
        <i class="fa-solid fa-building-columns mr-2"></i> UIC
      </button>
      <button type="button" (click)="activeTab='complexivo'"
              class="px-3 py-2 text-sm rounded-md"
              [ngClass]="activeTab==='complexivo' ? 'bg-blue-50 text-blue-700 border border-blue-200' : 'text-gray-600 hover:bg-gray-50'">
        <i class="fa-solid fa-file-pen mr-2"></i> Examen Complexivo
      </button>
    </div>
  </div>

  <!-- Tabs content -->
  <div class="p-4">
    <!-- UIC -->
    <div *ngIf="activeTab==='uic'" class="space-y-4">
      <div>
        <h3 class="text-lg font-semibold text-gray-800">Datos para UIC</h3>
        <p class="text-sm text-gray-500">Completa la información y adjunta el comprobante.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Tema -->
        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-gray-700 mb-1">Tema</label>
          <input type="text" [(ngModel)]="uic.tema" class="w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm" placeholder="Tema del trabajo"/>
          <div *ngIf="uicAttempted && !uic.tema" class="text-xs text-rose-600 mt-1">Este campo es obligatorio.</div>
        </div>
        <!-- Carrera -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Carrera</label>
          <input type="text" [(ngModel)]="uic.carrera" class="w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm" placeholder="Carrera"/>
          <div *ngIf="uicAttempted && !uic.carrera" class="text-xs text-rose-600 mt-1">Este campo es obligatorio.</div>
        </div>
        <!-- Tutor -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Tutor</label>
          <input type="text" [(ngModel)]="uic.tutor" class="w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm" placeholder="Nombre del tutor"/>
          <div *ngIf="uicAttempted && !uic.tutor" class="text-xs text-rose-600 mt-1">Este campo es obligatorio.</div>
        </div>
        <!-- Tipo de comprobante -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de comprobante</label>
          <select [(ngModel)]="uic.tipoComprobante" class="w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 text-sm">
            <option value="">Seleccione</option>
            <option value="deposito">Depósito</option>
            <option value="transferencia">Transferencia</option>
            <option value="pago_en_linea">Pago en línea</option>
          </select>
          <div *ngIf="uicAttempted && !uic.tipoComprobante" class="text-xs text-rose-600 mt-1">Selecciona un tipo de comprobante.</div>
        </div>
        <!-- Cargar comprobante -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Comprobante</label>
          <input type="file" (change)="onComprobanteChange($event)" accept="image/*,application/pdf" class="block w-full text-sm text-gray-700 file:mr-3 file:py-2 file:px-3 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"/>
          <div class="text-xs text-gray-500 mt-1" *ngIf="comprobanteNombre">Archivo: {{ comprobanteNombre }}</div>
          <div *ngIf="uicAttempted && !comprobanteArchivo" class="text-xs text-rose-600 mt-1">Debes adjuntar el comprobante.</div>
        </div>
      </div>

      <div class="pt-2">
        <button type="button" (click)="submitUIC()" [disabled]="!canSubmitUIC || uicSubmitted" class="inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-sm">
          <i class="fa-solid" [ngClass]="uicSubmitted ? 'fa-check' : 'fa-paper-plane'"></i>
          {{ uicSubmitted ? 'Seleccionado' : 'Enviar a UIC' }}
        </button>
      </div>
    </div>

    <!-- Examen Complexivo -->
    <div *ngIf="activeTab==='complexivo'" class="space-y-4">
      <h3 class="text-lg font-semibold text-gray-800">Examen Complexivo</h3>

      <div class="p-4 rounded-lg border border-gray-200 bg-gray-50">
        <div class="font-semibold text-gray-800 mb-2">Evaluación</div>
        <ul class="list-disc pl-6 text-sm text-gray-700 space-y-1">
          <li>El examen se calificará sobre 10 puntos.</li>
          <li>La nota mínima para aprobar es <strong>7/10</strong>.</li>
          <li>En caso de no aprobar, el estudiante podrá rendir una segunda oportunidad según el reglamento institucional.</li>
        </ul>
      </div>

      <div class="border-t"></div>

      <div class="p-4 rounded-lg border border-blue-200 bg-blue-50">
        <div class="font-semibold text-gray-800 mb-2">Nota informativa</div>
        <p class="text-sm text-gray-700">
          <i class="fa-regular fa-calendar-days mr-1"></i>
          El cronograma y temario oficial serán publicados próximamente por la <strong>Unidad de Titulación</strong>.
        </p>
        <p class="text-sm text-gray-600 mt-2">
          Una vez habilitadas las opciones, ya podrás visualizar tus materias asignadas y el cronograma.
        </p>
      </div>

      <div class="pt-2">
        <button type="button" (click)="elegirComplexivo()" [disabled]="complexivoSelected"
                class="inline-flex items-center gap-2 px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-60 text-sm">
          <i class="fa-solid" [ngClass]="complexivoSelected ? 'fa-check' : 'fa-check'"></i>
          {{ complexivoSelected ? 'Seleccionado' : 'Elegir modalidad de Examen Complexivo' }}
        </button>
      </div>

    </div>
  </div>
  <!-- Toast global de confirmación (visible para cualquier pestaña) -->
  <div *ngIf="showToast" class="fixed top-6 right-6 z-50">
    <div class="rounded-lg bg-gray-900 text-white text-sm px-4 py-3 shadow-lg max-w-sm">
      {{ toastMsg }}
    </div>
  </div>
</section>
